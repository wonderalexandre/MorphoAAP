import numpy as np
import morphoaap as aap

img = np.array([
[203,	203,	203,	203,	203,	203,	203,	199,	197,	197,	199,	201,	202,	202,	202,	202,	202,	201,	200,	201,	202,	202,	202,	202,	202,	202,	202,	201,	201,	202,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203],
[203,	203,	203,	203,	203,	197,	162,	114,	109,	109,	112,	119,	127,	129,	129,	129,	125,	118,	118,	121,	128,	129,	129,	129,	129,	129,	124,	118,	119,	130,	144,	168,	192,	202,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203],
[203,	203,	203,	203,	190,	124,	85,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	84,	104,	163,	200,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203],
[203,	203,	203,	197,	126,	80,	78,	78,	78,	78,	78,	78,	80,	82,	82,	82,	82,	81,	79,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	87,	151,	201,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203],
[203,	203,	203,	168,	84,	78,	78,	78,	80,	90,	97,	106,	113,	108,	102,	104,	113,	116,	107,	94,	83,	79,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	97,	188,	203,	203,	203,	203,	203,	203,	202,	202,	203,	203,	203,	203,	203,	203],
[203,	203,	202,	130,	78,	78,	78,	86,	109,	123,	126,	117,	85,	53,	45,	47,	69,	118,	126,	125,	118,	103,	80,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	84,	170,	203,	203,	203,	202,	182,	138,	115,	115,	139,	188,	203,	203,	203,	203],
[203,	203,	193,	104,	78,	78,	81,	112,	126,	126,	114,	64,	39,	38,	38,	38,	41,	100,	126,	126,	126,	120,	84,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	79,	154,	203,	203,	202,	161,	79,	56,	54,	54,	56,	114,	199,	203,	203,	203],
[203,	203,	169,	84,	78,	78,	86,	122,	122,	90,	55,	39,	38,	38,	38,	38,	40,	98,	126,	126,	126,	120,	84,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	79,	152,	203,	203,	168,	75,	54,	54,	54,	54,	54,	70,	178,	203,	203,	203],
[203,	203,	138,	78,	78,	78,	89,	123,	92,	41,	38,	38,	38,	38,	38,	38,	40,	98,	126,	126,	126,	120,	84,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	79,	152,	203,	192,	98,	54,	54,	54,	55,	57,	55,	57,	156,	203,	203,	203],
[203,	202,	129,	78,	78,	78,	97,	122,	64,	38,	38,	38,	38,	38,	38,	38,	42,	104,	126,	126,	126,	113,	80,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	79,	153,	199,	129,	58,	54,	54,	54,	57,	60,	57,	57,	155,	203,	203,	203],
[203,	202,	129,	78,	78,	78,	102,	111,	47,	38,	38,	38,	38,	38,	38,	39,	64,	119,	124,	117,	107,	88,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	87,	175,	163,	65,	54,	54,	54,	54,	55,	57,	55,	58,	158,	203,	203,	203],
[203,	202,	126,	78,	78,	78,	102,	99,	40,	38,	38,	38,	38,	38,	38,	58,	111,	115,	93,	82,	79,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	79,	118,	192,	111,	54,	54,	57,	56,	54,	54,	54,	54,	67,	176,	203,	203,	203],
[203,	199,	115,	78,	78,	78,	102,	92,	39,	38,	38,	38,	38,	39,	63,	106,	101,	83,	78,	78,	78,	78,	80,	101,	109,	109,	108,	97,	88,	84,	84,	85,	95,	126,	187,	177,	70,	54,	55,	60,	59,	54,	54,	54,	54,	80,	190,	203,	203,	203],
[203,	191,	99,	78,	78,	78,	103,	95,	40,	38,	38,	38,	50,	77,	101,	88,	79,	78,	78,	78,	78,	81,	114,	187,	197,	197,	197,	189,	180,	173,	172,	175,	187,	199,	201,	130,	55,	54,	55,	58,	57,	54,	54,	54,	54,	98,	198,	203,	203,	203],
[203,	175,	85,	78,	78,	79,	109,	120,	86,	74,	74,	83,	101,	94,	80,	78,	78,	78,	78,	93,	143,	164,	189,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	184,	77,	54,	54,	54,	54,	54,	54,	54,	54,	56,	139,	203,	203,	203,	203],
[203,	164,	81,	78,	78,	80,	113,	126,	126,	126,	124,	105,	84,	78,	78,	78,	78,	78,	78,	117,	200,	203,	203,	203,	203,	203,	205,	204,	203,	203,	203,	203,	203,	203,	155,	58,	54,	54,	54,	54,	54,	54,	54,	54,	61,	166,	203,	203,	203,	203],
[203,	159,	80,	78,	78,	81,	116,	126,	126,	126,	123,	88,	78,	78,	78,	78,	78,	78,	78,	118,	200,	203,	203,	203,	212,	230,	240,	238,	223,	207,	203,	203,	203,	201,	120,	54,	54,	56,	57,	54,	54,	54,	54,	54,	71,	180,	203,	203,	203,	203],
[203,	152,	79,	78,	78,	82,	117,	126,	126,	126,	125,	93,	78,	78,	78,	78,	78,	78,	78,	118,	200,	203,	203,	214,	245,	253,	253,	253,	252,	234,	206,	203,	203,	192,	85,	54,	55,	59,	60,	56,	54,	54,	54,	54,	102,	198,	203,	203,	203,	203],
[203,	152,	79,	78,	78,	83,	119,	126,	126,	126,	126,	106,	79,	78,	78,	78,	78,	78,	78,	118,	200,	203,	205,	237,	253,	253,	253,	253,	253,	251,	220,	203,	203,	186,	74,	54,	54,	58,	59,	55,	54,	54,	54,	67,	161,	203,	203,	203,	203,	203],
[203,	152,	79,	78,	78,	84,	120,	126,	126,	126,	126,	119,	85,	78,	78,	78,	78,	78,	78,	116,	200,	203,	208,	246,	253,	253,	253,	253,	253,	253,	231,	203,	203,	184,	73,	54,	54,	54,	55,	54,	54,	54,	65,	143,	200,	203,	203,	203,	203,	203],
[203,	152,	79,	78,	78,	84,	120,	126,	126,	126,	126,	126,	103,	78,	78,	78,	78,	78,	78,	108,	197,	203,	208,	244,	253,	253,	253,	253,	253,	253,	229,	203,	203,	187,	77,	54,	54,	54,	54,	54,	54,	71,	146,	200,	203,	203,	203,	203,	203,	203],
[203,	157,	79,	78,	78,	84,	120,	126,	126,	126,	126,	126,	117,	83,	78,	78,	78,	78,	78,	98,	191,	203,	204,	231,	252,	253,	253,	253,	253,	249,	215,	203,	203,	200,	131,	58,	54,	54,	54,	54,	75,	161,	201,	203,	203,	203,	203,	203,	203,	203],
[203,	163,	80,	78,	78,	84,	120,	126,	126,	126,	126,	126,	124,	93,	78,	78,	78,	78,	78,	93,	187,	203,	203,	209,	236,	251,	253,	253,	248,	225,	204,	203,	203,	203,	193,	103,	55,	54,	54,	81,	165,	202,	203,	203,	203,	203,	203,	203,	203,	203],
[203,	160,	80,	78,	78,	84,	120,	126,	126,	126,	126,	126,	126,	110,	80,	78,	78,	78,	78,	87,	176,	203,	203,	203,	206,	218,	227,	224,	213,	204,	203,	203,	203,	203,	203,	185,	135,	105,	111,	174,	202,	203,	203,	203,	203,	203,	203,	203,	203,	203],
[203,	153,	79,	78,	78,	83,	119,	126,	126,	126,	126,	126,	126,	122,	88,	78,	78,	78,	78,	79,	151,	203,	203,	203,	203,	203,	203,	198,	194,	193,	193,	194,	196,	199,	202,	203,	203,	201,	201,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203],
[203,	152,	79,	78,	78,	80,	114,	126,	126,	126,	126,	126,	126,	126,	101,	78,	78,	78,	78,	78,	124,	201,	203,	203,	203,	203,	190,	148,	136,	136,	136,	136,	139,	145,	162,	186,	201,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203],
[203,	149,	78,	78,	78,	79,	109,	126,	126,	126,	126,	126,	126,	126,	107,	78,	78,	78,	78,	78,	104,	194,	203,	203,	203,	198,	149,	126,	126,	126,	126,	126,	126,	126,	126,	133,	158,	186,	202,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203],
[203,	141,	78,	78,	78,	78,	101,	126,	126,	126,	126,	126,	126,	126,	106,	78,	78,	78,	78,	78,	89,	181,	203,	203,	203,	179,	130,	126,	126,	126,	126,	126,	126,	126,	126,	126,	126,	133,	166,	193,	202,	203,	203,	203,	203,	203,	203,	203,	203,	203],
[203,	140,	78,	78,	78,	78,	91,	124,	126,	126,	126,	126,	126,	125,	98,	78,	78,	78,	78,	78,	82,	165,	203,	203,	200,	151,	126,	126,	126,	126,	126,	126,	126,	126,	126,	126,	126,	125,	121,	135,	161,	190,	202,	203,	203,	203,	203,	203,	203,	203],
[203,	136,	78,	78,	78,	78,	81,	109,	126,	126,	126,	126,	126,	122,	87,	78,	83,	88,	82,	78,	78,	134,	202,	203,	193,	136,	126,	126,	126,	126,	126,	126,	126,	126,	126,	126,	126,	108,	80,	99,	125,	136,	166,	194,	203,	203,	203,	203,	203,	203],
[202,	129,	78,	78,	78,	78,	78,	84,	111,	125,	126,	126,	126,	117,	84,	101,	138,	150,	138,	99,	79,	102,	192,	203,	189,	132,	126,	126,	126,	126,	126,	126,	126,	126,	126,	126,	118,	81,	72,	76,	107,	126,	127,	142,	178,	201,	203,	203,	203,	203],
[202,	129,	78,	78,	78,	78,	78,	78,	82,	102,	118,	123,	118,	96,	117,	154,	161,	161,	161,	149,	96,	84,	168,	203,	189,	132,	126,	126,	126,	126,	126,	126,	126,	126,	126,	125,	100,	73,	72,	72,	82,	116,	126,	126,	131,	163,	199,	203,	203,	203],
[202,	129,	78,	78,	78,	78,	78,	78,	78,	79,	83,	88,	86,	116,	158,	161,	161,	161,	161,	161,	137,	85,	133,	202,	191,	133,	126,	126,	126,	126,	126,	126,	126,	126,	126,	119,	80,	72,	72,	72,	72,	85,	118,	126,	126,	128,	160,	200,	203,	203],
[202,	129,	78,	78,	78,	78,	78,	78,	78,	78,	78,	78,	97,	152,	161,	161,	161,	161,	161,	161,	159,	112,	110,	197,	197,	141,	126,	126,	126,	126,	126,	126,	126,	126,	125,	99,	73,	72,	72,	72,	72,	72,	94,	125,	126,	126,	131,	179,	203,	203],
[202,	129,	78,	78,	78,	78,	78,	78,	78,	78,	78,	81,	132,	161,	158,	125,	108,	120,	157,	161,	161,	140,	95,	181,	202,	162,	126,	126,	126,	126,	126,	126,	126,	126,	112,	77,	72,	72,	72,	72,	72,	72,	80,	120,	126,	126,	126,	151,	200,	203],
[202,	129,	78,	78,	78,	78,	78,	78,	78,	78,	78,	105,	155,	161,	125,	41,	31,	37,	104,	159,	161,	157,	101,	152,	203,	185,	131,	126,	126,	126,	126,	126,	126,	121,	86,	72,	72,	72,	72,	72,	72,	72,	74,	112,	126,	126,	126,	131,	185,	203],
[202,	129,	78,	78,	78,	78,	78,	78,	78,	78,	79,	130,	161,	160,	92,	30,	31,	30,	42,	130,	161,	160,	112,	110,	194,	198,	144,	126,	126,	126,	126,	126,	125,	98,	73,	72,	72,	72,	72,	72,	72,	72,	73,	104,	126,	126,	126,	128,	178,	203],
[202,	129,	78,	78,	78,	78,	78,	78,	78,	78,	80,	136,	161,	156,	66,	33,	37,	35,	30,	99,	161,	161,	123,	82,	152,	202,	174,	132,	126,	126,	126,	126,	111,	77,	72,	72,	72,	72,	72,	72,	72,	72,	72,	87,	123,	126,	126,	128,	180,	203],
[202,	129,	78,	78,	78,	78,	78,	78,	78,	78,	82,	142,	161,	151,	54,	33,	39,	36,	30,	98,	161,	161,	133,	79,	104,	191,	201,	169,	130,	126,	126,	121,	86,	72,	72,	72,	72,	72,	72,	72,	72,	72,	72,	75,	110,	126,	126,	136,	192,	203],
[202,	129,	78,	78,	78,	78,	78,	78,	78,	78,	85,	146,	161,	151,	55,	30,	32,	31,	39,	126,	161,	161,	134,	80,	82,	153,	202,	200,	166,	128,	125,	101,	74,	73,	73,	73,	73,	73,	74,	74,	74,	74,	74,	74,	93,	125,	126,	157,	201,	203],
[202,	129,	78,	78,	78,	78,	78,	78,	78,	78,	85,	146,	161,	158,	91,	37,	31,	33,	86,	157,	161,	161,	134,	80,	78,	96,	184,	203,	198,	162,	130,	114,	109,	109,	109,	109,	109,	109,	112,	113,	113,	113,	113,	113,	116,	125,	140,	190,	203,	203],
[202,	129,	78,	78,	78,	78,	78,	78,	78,	78,	83,	143,	161,	161,	154,	128,	110,	115,	152,	161,	161,	161,	130,	79,	78,	82,	165,	203,	203,	200,	170,	134,	126,	126,	126,	126,	126,	126,	126,	126,	126,	126,	126,	126,	126,	136,	182,	203,	203,	203],
[203,	139,	78,	78,	78,	78,	78,	78,	78,	78,	79,	122,	161,	161,	161,	161,	161,	161,	161,	161,	161,	161,	118,	78,	78,	78,	124,	199,	203,	203,	202,	184,	144,	127,	126,	126,	126,	126,	126,	126,	126,	126,	126,	126,	133,	180,	202,	203,	203,	203],
[203,	168,	84,	78,	78,	78,	78,	78,	78,	78,	78,	101,	157,	161,	161,	161,	161,	161,	161,	161,	161,	159,	104,	78,	78,	78,	86,	164,	203,	203,	203,	203,	195,	162,	133,	126,	126,	126,	126,	126,	126,	126,	126,	131,	172,	202,	203,	203,	203,	203],
[203,	194,	108,	78,	78,	78,	78,	78,	78,	78,	78,	83,	134,	161,	161,	161,	161,	161,	161,	161,	161,	147,	88,	78,	78,	78,	78,	108,	193,	203,	203,	203,	203,	201,	185,	171,	164,	159,	154,	149,	145,	141,	138,	167,	201,	203,	203,	203,	203,	203],
[203,	202,	137,	78,	78,	78,	78,	78,	78,	78,	78,	78,	97,	151,	161,	161,	161,	161,	161,	161,	156,	109,	79,	78,	78,	78,	78,	86,	176,	203,	203,	203,	203,	203,	203,	203,	203,	203,	202,	201,	200,	198,	195,	200,	203,	203,	203,	203,	203,	203],
[203,	203,	178,	104,	81,	78,	78,	78,	78,	78,	78,	78,	79,	110,	155,	160,	161,	161,	160,	150,	113,	81,	78,	78,	78,	78,	78,	85,	174,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203],
[203,	203,	202,	189,	160,	137,	121,	111,	95,	86,	81,	80,	79,	81,	100,	111,	117,	119,	115,	92,	79,	78,	78,	78,	78,	78,	79,	110,	193,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203],
[203,	203,	203,	203,	203,	203,	201,	198,	188,	176,	164,	163,	155,	146,	134,	120,	118,	118,	111,	109,	109,	108,	100,	94,	94,	97,	132,	182,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203],
[203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	201,	200,	200,	198,	197,	197,	197,	192,	187,	187,	189,	201,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203,	203]
])

numRows, numCols = img.shape
img_vetor = img.ravel()

tree = aap.ComponentTree(img_vetor, numRows, numCols, True)

mser = aap.ComputerMSER(tree)
bs = mser.computerMSER(1)

nodes = tree.listNodes
area = aap.Attribute.computerArea(tree)
asc = mser.ascendants
des = mser.descendants

filter = aap.AttributeFilters(tree)

I = filter.prunningMinByAdaptativeThreshold(area, 50, 10)
print("Imagem filtrada (adap):")
print( I )
